<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SellCase ‚Äî –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ä–∏–Ω–∫—É</title>

  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#0b1220;
      --muted:#6b7280;
      --border:#e5e7eb;

      --blue:#2563eb;
      --blue-2:#1d4ed8;

      --shadow: 0 12px 30px rgba(2,6,23,.08);
      --shadow-soft: 0 8px 18px rgba(2,6,23,.06);

      --r16:16px;
      --r20:20px;
      --r24:24px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 500px at 15% 0%, rgba(37,99,235,.12), rgba(37,99,235,0) 60%),
        radial-gradient(900px 500px at 90% 10%, rgba(99,102,241,.12), rgba(99,102,241,0) 55%),
        var(--bg);
    }

    .wrap{
      max-width: 1040px;
      margin: 0 auto;
      padding: 14px 14px 92px; /* –º–µ—Å—Ç–æ –ø–æ–¥ bottom-nav */
    }

    /* Top App Bar */
    .appbar{
      background: rgba(255,255,255,.86);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border);
      border-radius: var(--r24);
      box-shadow: var(--shadow);
      padding: 14px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap: 12px;
      min-width: 240px;
    }
    .logo{
      width: 44px;
      height: 44px;
      border-radius: 16px;
      display:grid;
      place-items:center;
      background: linear-gradient(135deg, rgba(37,99,235,.18), rgba(99,102,241,.18));
      border: 1px solid rgba(15,23,42,.08);
    }
    .brand h1{ margin:0; font-size: 16px; line-height: 1.15; font-weight: 1000; letter-spacing:-.02em; }
    .brand p{ margin:3px 0 0 0; font-size: 12px; color: var(--muted); }

    .rightbar{
      display:flex;
      align-items:center;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .status{
      display:flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      background: white;
      border: 1px solid var(--border);
      border-radius: 999px;
      font-weight: 900;
      font-size: 12px;
      box-shadow: var(--shadow-soft);
      white-space: nowrap;
    }
    .dot{ width:10px; height:10px; border-radius:50%; background:#94a3b8; }
    .dot.red{ background:#ef4444; }
    .dot.green{ background:#22c55e; }

    /* Toast */
    .toast{
      display:none;
      margin-top: 12px;
      padding: 12px 14px;
      border-radius: var(--r16);
      border: 1px solid #bbf7d0;
      background: #dcfce7;
      font-weight: 900;
      box-shadow: var(--shadow-soft);
    }
    .toast.show{ display:block; }

    /* Content */
    .content{ margin-top: 12px; }

    .card{
      background: rgba(255,255,255,.86);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border);
      border-radius: var(--r24);
      box-shadow: var(--shadow);
      padding: 16px;
    }

    .section{ display:none; }
    .section.active{ display:block; }

    .title{
      margin:0 0 6px 0;
      font-size: 18px;
      font-weight: 1100;
      letter-spacing: -0.02em;
    }
    .sub{
      margin:0 0 12px 0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
    }

    /* Forms */
    .grid2{ display:grid; grid-template-columns: 1fr 1fr; gap: 14px; }
    @media (max-width: 860px){ .grid2{ grid-template-columns: 1fr; } }

    label{
      display:block;
      font-weight: 900;
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 6px;
    }
    input, select{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: white;
      font-size: 14px;
      outline: none;
      box-shadow: 0 1px 0 rgba(2,6,23,.02);
    }
    input:focus, select:focus{
      border-color: rgba(37,99,235,.35);
      box-shadow: 0 0 0 4px rgba(37,99,235,.10);
    }
    .field{ display:grid; gap: 6px; }

    .row{ display:flex; align-items:center; gap: 10px; flex-wrap: wrap; }

    /* Buttons */
    .btn{
      border: 1px solid var(--border);
      background: white;
      color: var(--text);
      padding: 12px 14px;
      border-radius: 14px;
      font-weight: 1000;
      cursor: pointer;
      box-shadow: var(--shadow-soft);
      user-select: none;
    }
    .btn:disabled{ opacity:.55; cursor:not-allowed; }

    .btn.primary{
      border-color: transparent;
      background: linear-gradient(180deg, var(--blue), var(--blue-2));
      color: white;
    }

    .hint{ color: var(--muted); font-size: 12px; font-weight: 800; }

    .error{
      display:none;
      margin-top: 12px;
      padding: 12px 14px;
      border-radius: var(--r16);
      border: 1px solid #fecaca;
      background: #fee2e2;
      font-weight: 900;
      box-shadow: var(--shadow-soft);
    }
    .error.show{ display:block; }

    /* Market KPIs */
    .kpiGrid{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
      margin-top: 14px;
    }
    @media (max-width: 980px){ .kpiGrid{ grid-template-columns: 1fr 1fr; } }
    @media (max-width: 520px){ .kpiGrid{ grid-template-columns: 1fr; } }

    .kpi{
      background: white;
      border: 1px solid var(--border);
      border-radius: var(--r20);
      padding: 12px;
      box-shadow: var(--shadow-soft);
    }
    .kpi .k{ font-size: 12px; color: var(--muted); font-weight: 1000; margin-bottom: 6px; }
    .kpi .v{ font-size: 18px; font-weight: 1200; letter-spacing: -0.02em; }

    .divider{ height:1px; background: var(--border); margin: 14px 0; }

    /* Reliable toggle */
    .pill{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 8px 10px;
      border: 1px solid var(--border);
      border-radius: 999px;
      background: white;
      box-shadow: var(--shadow-soft);
      font-weight: 1000;
      font-size: 12px;
      cursor: pointer;
      user-select:none;
    }
    .pill input{ width:auto; margin:0; }

    /* Brand hero block */
    .hero{
      margin: 12px 0 10px;
      padding: 14px;
      border-radius: 22px;
      border: 1px solid var(--border);
      background: white;
      box-shadow: var(--shadow-soft);
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .hero-left{
      display:flex;
      gap:12px;
      align-items:center;
      min-width: 240px;
    }
    .hero-logo{
      width:64px;height:64px;border-radius:18px;object-fit:cover;
      border:1px solid var(--border);
      background: #fff;
    }

    /* Bottom Nav */
    .bottom-nav{
      position: fixed;
      left: 0; right: 0; bottom: 0;
      padding: 10px 12px calc(10px + env(safe-area-inset-bottom));
      background: rgba(255,255,255,.90);
      backdrop-filter: blur(12px);
      border-top: 1px solid var(--border);
      z-index: 200;
    }
    .bottom-nav .navgrid{
      max-width: 1040px;
      margin: 0 auto;
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }
    .tab{
      border: 1px solid var(--border);
      background: white;
      border-radius: 16px;
      padding: 10px 8px;
      font-weight: 1100;
      cursor: pointer;
      box-shadow: var(--shadow-soft);
      display:flex;
      flex-direction: column;
      align-items:center;
      justify-content:center;
      gap: 4px;
      font-size: 11px;
      color: var(--text);
      user-select:none;
    }
    .tab.active{
      border-color: rgba(37,99,235,.35);
      box-shadow: 0 0 0 4px rgba(37,99,235,.10), var(--shadow-soft);
    }
    .tab .ico{ font-size: 16px; line-height: 1; }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="appbar">
      <div class="brand">
        <div class="logo">üìä</div>
        <div>
          <h1>SellCase</h1>
          <p>–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ä–∏–Ω–∫—É OLX: —Ü—ñ–Ω–∏, –∑—Ä—ñ–∑–∏, –¥–∏–Ω–∞–º—ñ–∫–∞</p>
        </div>
      </div>

      <div class="rightbar">
        <div class="status" id="serverStatus">
          <span class="dot"></span>
          <span>–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞‚Ä¶</span>
        </div>
      </div>
    </div>

    <div class="toast" id="toast"></div>

    <div class="content">
      <!-- –†–ò–ù–û–ö -->
      <div class="card section active" id="section-market">
        <h2 class="title">–†–∏–Ω–æ–∫</h2>
        <p class="sub">–û–±–µ—Ä—ñ—Ç—å –ø—Ä–æ—î–∫—Ç —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∞–Ω–∞–ª—ñ—Ç–∏–∫—É. –ú–∏ –ø–æ–∫–∞–∂–µ–º–æ —Ç–∏–ø–æ–≤—É —Ü—ñ–Ω—É —Ç–∞ —Ü—ñ–Ω–æ–≤–∏–π –∫–æ—Ä–∏–¥–æ—Ä.</p>

        <!-- –ë—Ä–µ–Ω–¥–æ–≤—ã–π –±–ª–æ–∫ —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º -->
        <div class="hero">
          <div class="hero-left">
            <img id="brandLogo" class="hero-logo" src="./sellcase-logo.png" alt="SellCase" />
            <div>
              <div style="font-weight:1200; font-size:16px;">SellCase Market Snapshot</div>
              <div class="hint">–û–±–µ—Ä—ñ—Ç—å –ø—Ä–æ—î–∫—Ç ‚Üí –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∑—Ä—ñ–∑ ‚Üí –∑–±–µ—Ä–µ–∂—ñ—Ç—å –∑–∞–ø–∏—Ç.</div>
            </div>
          </div>
          <div class="row">
            <button class="btn" type="button" id="btnSaveQuery">‚≠ê –ó–±–µ—Ä–µ–≥—Ç–∏ –∑–∞–ø–∏—Ç</button>
          </div>
        </div>

        <div class="grid2">
          <div class="field">
            <label for="marketProject">–ü—Ä–æ—î–∫—Ç</label>
            <select id="marketProject"></select>
          </div>

          <div class="field">
            <label for="marketPoints">–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ—á–æ–∫</label>
            <input id="marketPoints" type="number" min="5" max="300" value="30" />
          </div>

          <div class="field">
            <label for="marketOffset">–ó—Å—É–≤ (–¥–ª—è —ñ—Å—Ç–æ—Ä—ñ—ó)</label>
            <input id="marketOffset" type="number" min="0" value="0" />
          </div>

          <div class="field">
            <label>&nbsp;</label>
            <label class="pill">
              <input id="marketReliable" type="checkbox" />
              –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –Ω–∞–¥—ñ–π–Ω—ñ –¥–∞–Ω—ñ
            </label>
          </div>
        </div>

        <div class="row" style="margin-top:12px">
          <button class="btn primary" id="btnMarketLoad" type="button">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</button>

          <!-- –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ / –ù–∞—Å—Ç—É–ø–Ω—ñ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É -->
          <div class="row" style="gap:10px">
            <button class="btn" id="btnPrev" type="button">‚óÄ –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ</button>
            <button class="btn" id="btnNext" type="button">–ù–∞—Å—Ç—É–ø–Ω—ñ ‚ñ∂</button>
          </div>

          <span class="hint" id="marketHint"></span>
        </div>

        <div class="kpiGrid" id="marketKpi">
          <div class="kpi">
            <div class="k">–¢–∏–ø–æ–≤–∞ —Ü—ñ–Ω–∞</div>
            <div class="v" id="kpiTypical">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="k">–ó–º—ñ–Ω–∞ —Ç–∏–ø–æ–≤–æ—ó —Ü—ñ–Ω–∏</div>
            <div class="v" id="kpiDelta">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="k">–î—ñ–∞–ø–∞–∑–æ–Ω —Ä–∏–Ω–∫—É</div>
            <div class="v" id="kpiRange">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="k">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ–≥–æ–ª–æ—à–µ–Ω—å</div>
            <div class="v" id="kpiCount">‚Äî</div>
          </div>
        </div>

        <div class="error" id="marketError"></div>
      </div>

      <!-- –ó–ê–ü–ò–¢–ò -->
      <div class="card section" id="section-queries">
        <h2 class="title">–ó–∞–ø–∏—Ç–∏</h2>
        <p class="sub">–ó—Ä—É—á–Ω—ñ —à–∞–±–ª–æ–Ω–∏ —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –∑–∞–ø–∏—Ç–∏ (—è–∫ —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤). –ü—ñ–¥–∫–ª—é—á–∏–º–æ –¥–æ API –ø–æ –º—ñ—Ä—ñ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ.</p>

        <div class="row" style="margin-top:10px;">
          <input id="queryText" placeholder="–ù–∞–ø—Ä.: iPhone 13, –¥–∏—Ç—è—á–∞ –∫–æ–ª—è—Å–∫–∞, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä..." />
          <select id="queryCategory" style="max-width:220px;">
            <option value="">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è (–≤—Å—ñ)</option>
            <option>–ï–ª–µ–∫—Ç—Ä–æ–Ω—ñ–∫–∞</option>
            <option>–î—ñ–º —ñ —Å–∞–¥</option>
            <option>–î–∏—Ç—è—á—ñ —Ç–æ–≤–∞—Ä–∏</option>
            <option>–ê–≤—Ç–æ</option>
            <option>–û–¥—è–≥</option>
          </select>
          <button class="btn primary" id="btnRunQuery" type="button">–ó–∞–ø—É—Å—Ç–∏—Ç–∏</button>
        </div>

        <div class="divider"></div>

        <h3 style="margin:0 0 8px 0; font-weight:1100;">–ó–±–µ—Ä–µ–∂–µ–Ω—ñ –∑–∞–ø–∏—Ç–∏</h3>
        <div id="savedQueries" class="hint">‚Äî</div>
      </div>

      <!-- –ü–†–û–ï–ö–¢–ò -->
      <div class="card section" id="section-projects">
        <h2 class="title">–ü—Ä–æ–µ–∫—Ç–∏</h2>
        <p class="sub">–°–ø–∏—Å–æ–∫ –ø—Ä–æ—î–∫—Ç—ñ–≤ –∑ API (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —ñ –≤ ‚Äú–†–∏–Ω–æ–∫‚Äù).</p>

        <div class="row">
          <button class="btn primary" id="btnProjectsReload" type="button">–û–Ω–æ–≤–∏—Ç–∏ —Å–ø–∏—Å–æ–∫</button>
          <span class="hint" id="projectsInfo"></span>
        </div>

        <div class="divider"></div>

        <div id="projectsList" class="hint">‚Äî</div>
        <div class="error" id="projectsError"></div>
      </div>

      <!-- –ê–ö–ö–ê–£–ù–¢ -->
      <div class="card section" id="section-account">
        <h2 class="title">–ê–∫–∫–∞—É–Ω—Ç</h2>
        <p class="sub">–í—Ö—ñ–¥/—Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è. –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤—Ö–æ–¥—É —Ñ–æ—Ä–º–∏ –∑–Ω–∏–∫–Ω—É—Ç—å —ñ –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –ø—Ä–æ—Ñ—ñ–ª—å.</p>

        <!-- –§–û–†–ú–´ -->
        <div id="authForms">
          <div class="grid2">
            <div>
              <h3 style="margin:0 0 10px 0; font-weight:1100;">–í—Ö—ñ–¥</h3>
              <form id="loginForm">
                <div class="field">
                  <label>Email</label>
                  <input id="loginEmail" type="email" autocomplete="email" />
                </div>

                <div class="field" style="margin-top:10px">
                  <label>–ü–∞—Ä–æ–ª—å</label>
                  <input id="loginPassword" type="password" autocomplete="current-password" />
                </div>

                <div class="row" style="margin-top:10px">
                  <button class="btn primary" id="btnLogin" type="submit">–£–≤—ñ–π—Ç–∏</button>
                  <span class="hint" id="loginInfo"></span>
                </div>
              </form>
            </div>

            <div id="registerBlock">
              <h3 style="margin:0 0 10px 0; font-weight:1100;">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</h3>
              <form id="registerForm">
                <div class="field">
                  <label>–Ü–º º—è</label>
                  <input id="regFirstName" />
                </div>

                <div class="field" style="margin-top:10px">
                  <label>–ü—Ä—ñ–∑–≤–∏—â–µ</label>
                  <input id="regLastName" />
                </div>

                <div class="field" style="margin-top:10px">
                  <label>Email</label>
                  <input id="regEmail" type="email" autocomplete="email" />
                </div>

                <div class="field" style="margin-top:10px">
                  <label>–ü–∞—Ä–æ–ª—å</label>
                  <input id="regPassword" type="password" autocomplete="new-password" placeholder="–ú—ñ–Ω—ñ–º—É–º 8 —Å–∏–º–≤–æ–ª—ñ–≤" />
                </div>

                <div class="row" style="margin-top:10px">
                  <button class="btn primary" id="btnRegister" type="submit">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</button>
                </div>

                <div class="hint" style="margin-top:10px">
                  –î–∞–ª—ñ –¥–æ–¥–∞–º–æ: Google / Facebook —Ç–æ—â–æ.
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- –ü–û–°–õ–ï –í–•–û–î–ê: –ö–ê–†–¢–û–ß–ö–ê –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø -->
        <div id="authDone" style="display:none; margin-top: 10px;">
          <div style="
            padding:14px;
            border-radius:22px;
            border:1px solid var(--border);
            background:white;
            box-shadow: var(--shadow-soft);
            display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap;
          ">
            <div style="display:flex; gap:12px; align-items:center;">
              <div id="userAvatar" style="
                width:54px;height:54px;border-radius:18px;
                display:grid;place-items:center;
                background: linear-gradient(135deg, rgba(37,99,235,.18), rgba(99,102,241,.18));
                border:1px solid rgba(15,23,42,.08);
                font-weight:1200;
                font-size:16px;
              ">U</div>

              <div>
                <div id="userTitle" style="font-weight:1200; font-size:16px;">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á</div>
                <div id="userSubtitle" class="hint">‚úÖ –í—Ö—ñ–¥ —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω–∞–Ω–æ.</div>
              </div>
            </div>

            <div class="row">
              <button class="btn" id="btnGoMarket" type="button">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –†–∏–Ω–∫—É</button>
              <button class="btn" id="btnLogout" type="button">–í–∏–π—Ç–∏</button>
            </div>
          </div>

          <div class="kpiGrid" style="margin-top:12px;">
            <div class="kpi">
              <div class="k">User ID</div>
              <div class="v" id="meId">‚Äî</div>
            </div>
            <div class="kpi">
              <div class="k">–°—Ç–≤–æ—Ä–µ–Ω–æ</div>
              <div class="v" id="meCreated">‚Äî</div>
            </div>
            <div class="kpi">
              <div class="k">–°—Ç–∞—Ç—É—Å</div>
              <div class="v" id="meActive">‚Äî</div>
            </div>
            <div class="kpi">
              <div class="k">–†–æ–ª—å</div>
              <div class="v">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á</div>
            </div>
          </div>
        </div>

        <div class="error" id="accountError"></div>
      </div>
    </div>
  </div>

  <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
  <div class="bottom-nav" id="nav">
    <div class="navgrid">
      <button class="tab active" data-tab="market" type="button">
        <span class="ico">üìä</span><span>–†–∏–Ω–æ–∫</span>
      </button>
      <button class="tab" data-tab="queries" type="button">
        <span class="ico">üîé</span><span>–ó–∞–ø–∏—Ç–∏</span>
      </button>
      <button class="tab" data-tab="projects" type="button">
        <span class="ico">‚ò∞</span><span>–ü—Ä–æ–µ–∫—Ç–∏</span>
      </button>
      <button class="tab" data-tab="account" type="button">
        <span class="ico">üë§</span><span>–ê–∫–∫–∞—É–Ω—Ç</span>
      </button>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
  </html>

<!doctype html>
<html lang="uk">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SellCase Dashboard</title>

    <style>
      body {
        margin: 0;
        padding: 32px;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
        background: radial-gradient(1200px 600px at top, #0f1a2b, #05070f);
        color: #e6eaf2;
      }

      h1 {
        margin: 0 0 16px 0;
        font-size: 28px;
        font-weight: 600;
      }

      h2 {
        margin: 0 0 12px 0;
        font-size: 18px;
        font-weight: 600;
      }

      #status,
      #mhStatus {
        margin-bottom: 16px;
        opacity: 0.75;
        font-size: 14px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        background: rgba(255, 255, 255, 0.03);
        border-radius: 8px;
        overflow: hidden;
      }

      thead {
        background: rgba(255, 255, 255, 0.05);
      }

      th,
      td {
        padding: 12px 14px;
        text-align: left;
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        font-size: 14px;
      }

      th {
        font-weight: 600;
        text-transform: uppercase;
        font-size: 12px;
        letter-spacing: 0.04em;
        opacity: 0.8;
      }

      tr:hover td {
        background: rgba(255, 255, 255, 0.03);
      }

      .error {
        color: #ff6b6b;
        white-space: pre-wrap;
        opacity: 1;
      }

      hr {
        margin: 24px 0;
        opacity: 0.2;
        border: none;
        border-top: 1px solid rgba(255,255,255,0.2);
      }

      .controls {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        align-items: center;
        margin-bottom: 12px;
      }

      .controls label {
        display: flex;
        gap: 6px;
        align-items: center;
        font-size: 14px;
        opacity: 0.9;
      }

      .controls input[type="number"],
      .controls input[type="text"] {
        padding: 6px 8px;
        border-radius: 6px;
        border: 1px solid rgba(255,255,255,0.15);
        background: rgba(0,0,0,0.25);
        color: #e6eaf2;
        outline: none;
      }

      .controls input[type="checkbox"] {
        transform: translateY(1px);
      }

      .controls button {
        padding: 8px 12px;
        border-radius: 8px;
        border: 1px solid rgba(255,255,255,0.18);
        background: rgba(255,255,255,0.06);
        color: #e6eaf2;
        cursor: pointer;
      }

      .controls button:hover {
        background: rgba(255,255,255,0.10);
      }
    </style>
  </head>

  <body>
    <h1>Топ пошукових запитів</h1>
    <div id="status">Завантаження...</div>

    <table>
      <thead>
        <tr>
          <th>Запит</th>
          <th>К-сть</th>
          <th>Категорія</th>
          <th>Впевненість</th>
          <th>Джерело</th>
        </tr>
      </thead>
      <tbody id="tbody"></tbody>
    </table>

    <hr />

    <h2>Market History (OLX)</h2>

    <div class="controls">
      <label>Project ID:
        <input id="projectId" type="number" value="19" style="width: 90px" />
      </label>

      <label>Limit:
        <input id="mhLimit" type="number" value="10" style="width: 80px" />
      </label>

      <label>Offset:
        <input id="mhOffset" type="number" value="0" style="width: 80px" />
      </label>

      <label style="gap:8px;">
        <input id="mhOnlyValid" type="checkbox" checked />
        only_valid
      </label>

      <!-- OPTIONAL: если эндпоинт требует Authorization -->
      <label>Token:
        <input id="authToken" type="text" placeholder="Bearer token (optional)" style="width: 260px" />
      </label>

      <button id="mhLoadBtn" type="button">Load</button>
    </div>

    <div id="mhStatus">—</div>

    <table>
      <thead>
        <tr>
          <th>taken_at</th>
          <th>items_count</th>
          <th>median</th>
          <th>p25</th>
          <th>p75</th>
        </tr>
      </thead>
      <tbody id="mhTbody"></tbody>
    </table>

    <!-- ВАЖНО: никакого inline JS -->
    <script src="app.js"></script>
  </body>
</html>
